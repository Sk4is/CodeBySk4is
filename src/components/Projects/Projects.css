:root { --header-h:72px; --c1:#00e5ff; --c2:#ff3b3b; --text:#e6f1ff; }

.projects-wrap{
  position:relative;
  min-height:calc(100svh - var(--header-h));
  padding:calc(var(--header-h) + 24px) 16px 80px;
  isolation:isolate;
  overflow:hidden;
}
.projects-bg-img{
  position:absolute; inset:0;
  background:center 50% / cover no-repeat;
  z-index:-2;
  transform: translate3d(0, var(--py, 0px), 0) scale(1);
  transform-origin:center;
  will-change:transform;
  filter: brightness(.80) saturate(.95) blur(3px);
  pointer-events:none;
}
.projects-bg-img::before{
  content:""; position:absolute; inset:0;
  background: linear-gradient(to bottom, rgba(0,0,0,1) 8%, rgba(0,0,0,0) 40%);
  z-index:1; pointer-events:none;
}
.projects-bg{
  position:absolute; inset:0;
  background:
    radial-gradient(60% 40% at 50% 15%, rgba(0,229,255,.08), transparent 60%),
    radial-gradient(50% 30% at 85% 80%, rgba(255,59,59,.06), transparent 60%);
  filter: blur(6px) saturate(.9);
  z-index:-1; pointer-events:none;
}

.page-enter{ opacity:0; transform:translateY(16px); filter:blur(2px); }
.page-enter.page-enter-active{
  opacity:1; transform:translateY(0); filter:blur(0);
  transition: opacity .6s ease, transform .6s ease, filter .6s ease;
}
@media (prefers-reduced-motion: reduce){
  .page-enter,.page-enter.page-enter-active{ transition:none; transform:none; filter:none; opacity:1; }
  .projects-bg-img{ transform:none !important; }
}

.projects-container{ width:min(1100px, 100%); margin:0 auto; color:var(--text); }
.projects-header h2{
  font-size:clamp(1.6rem, 3.8vw, 2.2rem);
  text-align:center; margin:0 0 10px; color:#fff;
  text-shadow:0 0 8px rgba(0,229,255,.25);
}
.projects-sub{ text-align:center; opacity:.9; margin:0 auto 18px; max-width:720px; }

.projects-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 16px;

  /* ðŸ‘‡ Esto hace que cada tarjeta tenga su propia altura */
  align-items: start;
}
@media (max-width: 980px){ .projects-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 560px){ .projects-grid{ grid-template-columns: 1fr; } }

.proj-card{
  background: rgba(10,14,20,.6);
  border:1px solid rgba(255,255,255,.08);
  border-radius:16px;
  overflow:hidden;
  backdrop-filter: blur(8px);
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.proj-card:hover{
  transform: translateY(-2px);
  box-shadow: 0 16px 36px rgba(0,0,0,.46);
  border-color: rgba(255,255,255,.12);
}

.proj-link{ text-decoration:none; color:inherit; display:block; }
.proj-cover{
  position:relative;
  aspect-ratio: 16 / 9;
  overflow:hidden;
  border-bottom:1px solid rgba(255,255,255,.06);
  background:#0b0f15;
}
.proj-cover img{
  width:100%; height:100%; object-fit:contain; display:block;
  transform: scale(0.85);
  filter: grayscale(100%) contrast(1.05) saturate(.85);
  transition: transform .35s ease, filter .35s ease;
}
.proj-card:hover .proj-cover img{
  transform: scale(0.92);
  filter: grayscale(0%) contrast(1) saturate(1);
}

.proj-year{
  position:absolute; top:10px; left:10px;
  font-size:.8rem; padding:4px 8px; border-radius:999px;
  background: rgba(0,0,0,.45); color:#fff;
  border:1px solid rgba(255,255,255,.14);
  z-index:2;
}
.proj-overlay{
  position:absolute; inset:auto 0 0 0;
  padding:14px 14px 16px;
  background: linear-gradient(to top, rgba(0,0,0,.75), rgba(0,0,0,0));
  display:flex; align-items:flex-end; justify-content:center;
  opacity:.95;
}
.proj-title{
  margin:0; color:#fff; text-align:center;
  font-weight:800; letter-spacing:.5px;
  text-shadow:0 2px 8px rgba(0,0,0,.6);
}
.proj-title i{ font-style:normal; opacity:.9; margin-left:6px; }

.proj-meta{ padding:12px 14px 14px; }
.proj-tags{ display:flex; flex-wrap:wrap; gap:8px; margin-bottom:8px; }
.proj-tags span{
  font-size:.8rem; opacity:.95; padding:4px 8px; border-radius:8px;
  background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1);
}
.proj-desc{ margin:0 0 6px; opacity:.9; }

.proj-toggle{
  margin-top:8px;
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 10px;
  border-radius:10px;
  background: rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.1);
  color:#dfe9f3;
  cursor:pointer;
  font-weight:600;
  letter-spacing:.2px;
  transition: transform .15s ease, background .15s ease, border-color .15s ease, color .15s ease;
}
.proj-toggle:hover{ transform: translateY(-1px); background: rgba(255,255,255,.08); }
.proj-toggle svg{ transition: transform .2s ease; }
.proj-toggle.is-open svg{ transform: rotate(180deg); }

.proj-details{
  height: 0;
  overflow: hidden;
  transition: height .35s ease;
  margin-top:8px;
}
.proj-details-inner{
  padding-top:10px;
  border-top:1px solid rgba(255,255,255,.08);
  opacity: 0;
  transition: opacity .25s ease;
}
.proj-details.open .proj-details-inner {
  opacity: 1;
}

.details-cols{
  display:grid; grid-template-columns: 1fr 1fr; gap:14px; margin:6px 0 10px;
}
@media (max-width: 560px){ .details-cols{ grid-template-columns: 1fr; } }

.details-cols h4{ margin:0 0 6px; font-size:.95rem; color:#fff; opacity:.95; }
.details-cols ul{ margin:0; padding-left:18px; }
.details-cols li{ margin:4px 0; }

.chips{ display:flex; flex-wrap:wrap; gap:8px; }
.chips span{
  font-size:.8rem; padding:4px 8px; border-radius:999px;
  background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1);
}

.detail-links{ display:flex; gap:10px; margin-top:8px; }
.mini-cta{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 12px; border-radius:10px; font-weight:700; text-decoration:none;
  background: linear-gradient(180deg, rgba(0,229,255,.25), rgba(0,229,255,.12));
  color:#fff; border:1px solid rgba(0,229,255,.35);
  transition: transform .15s ease, box-shadow .15s ease;
}
.mini-cta:hover{ transform: translateY(-1px); box-shadow:0 0 12px rgba(0,229,255,.25); }
.mini-cta.ghost{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.12);
}

#proyectos{ scroll-margin-top: calc(var(--header-h) + 16px); }
